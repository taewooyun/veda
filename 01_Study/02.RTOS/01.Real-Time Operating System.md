리눅스 **실시간 프로그래밍(RT Linux / Real-Time Linux)** 이 보장하는 타이밍과
**RTOS** 가 보장하는 타이밍의 차이는 *“무엇을, 어디까지, 어떤 가정 하에 보장하느냐”*의 차이입니다.
핵심은 **결정성(determinism)의 수준과 범위**입니다.

---

## 1. RTOS가 보장하는 타이밍

### ✔ 보장의 성격: **하드 실시간(Hard Real-Time)**

RTOS는 설계 자체가 **시간 보장**을 목표로 만들어졌습니다.

### 보장되는 것

* **최대 인터럽트 지연 시간 (Interrupt Latency)**
* **최대 태스크 전환 시간 (Context Switch Time)**
* **최대 스케줄링 지연 시간**
* **데드라인 미스가 없음 (이론적으로)**

👉 *“이 태스크는 반드시 **N μs 이내**에 실행된다”* 를 **정적으로 증명 가능**

### 이유

* 단순한 커널 구조
* 선점 불가능한 코드가 거의 없음
* 메모리 할당이 정적(static)
* 가상 메모리, 페이지 폴트 없음
* 드라이버도 실시간 규칙을 따름

### 예시

* 모터 제어
* 에어백 전개
* 항공기 비행 제어
* 의료기기

---

## 2. 리눅스 실시간 프로그래밍이 보장하는 타이밍

### ✔ 보장의 성격: **소프트/펌 실시간(Soft / Firm Real-Time)**

리눅스는 **본질적으로 범용 OS(GPOS)** 입니다.
PREEMPT_RT 같은 패치를 적용해도 **완전한 하드 실시간은 아님**.

### 보장되는 것

* **평균적인 지연(latency)을 매우 작게 유지**
* **대부분의 경우 데드라인 만족**
* **최악 지연 시간(Worst-Case Latency)을 “줄임”**

👉 *“대체로 수십 μs 이내지만, **드물게** 더 늦어질 수 있음”*

### 보장되지 않는 것

* 절대적인 상한 보장 ❌
* 모든 커널 코드의 완전한 선점 ❌
* 드라이버/서브시스템의 실시간 안전성 ❌

### 이유

* 복잡한 커널 구조
* 캐시 미스, TLB, NUMA
* 가상 메모리, 페이지 폴트
* 수많은 드라이버와 백그라운드 태스크

---

## 3. 타이밍 보장의 핵심 차이 (정리 표)

| 구분            | RTOS        | 리눅스 실시간        |
| ------------- | ----------- | -------------- |
| 실시간 종류        | **Hard RT** | Soft / Firm RT |
| Worst-case 보장 | **정확히 보장**  | 줄이긴 하지만 보장 X   |
| 인터럽트 지연       | 수 μs 이내 고정  | 평균은 작지만 예외 존재  |
| 스케줄링 결정성      | 매우 높음       | 상대적으로 낮음       |
| 가상 메모리        | 없음          | 있음             |
| 데드라인 미스       | 시스템 오류      | 허용 가능          |
| 사용 분야         | 안전 필수 시스템   | 고성능 제어·미디어·로봇  |

---

## 4. 직관적인 비유

* **RTOS**
  → *“버스가 **항상 정확히 08:00에 온다**”*

* **리눅스 실시간**
  → *“대부분 08:00 ± 0.1초에 오지만, **가끔** 늦는다”*

---

## 5. 실무에서의 선택 기준

### RTOS를 써야 하는 경우

* 데드라인 미스 = 사고
* 타이밍 분석 보고서가 필요한 시스템
* 인증(ISO 26262, DO-178C 등)이 필요한 경우

### 리눅스 실시간이 적합한 경우

* 고성능 연산 + 실시간성이 필요한 경우
* 로봇, 자율주행, 산업용 제어
* 네트워크·GUI·스토리지 필요

---

## 6. 임베디드 취준 관점 한 줄 요약

> **RTOS는 “시간을 보장”하고,
> 리눅스 실시간은 “시간을 최대한 잘 지킨다”.**

원하면 다음으로

* PREEMPT_RT가 정확히 뭘 바꾸는지
* 인터럽트 → 스케줄링 → 태스크 실행 타임라인
* RTOS vs Linux 실제 latency 수치 비교

이 중에서 더 깊게 설명해줄 수도 있어요.
