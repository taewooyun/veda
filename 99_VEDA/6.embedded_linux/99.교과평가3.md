범위

### linux driver
6문제

#### ko 파일
hello.c -> hello.o -> hello.ko
모듈 만드는명령어
`$(MAKE) -C $(KDIR) M=$(PWD) modules`
`$(MAKE) -C $(KDIR) M=$(PWD) modules_install`


#### 모듈 호출
insmod : module_init(func)
 rmmod : module_exit(func)

#### 
커널 영역과 유저 영역과의 데이터 교환
```c
write(){
    copy_to_user(buf_u, buf_k, N);
}
```

```c
write(){
    copy_from_user(buf_k, buf_u, N);
}
```

#### 
`proccess context`  : system call
    -> sleep allow
```c
file_operations fops{
    .open = dev_open,
    .read = dev_read,
    ...
}
```
`# mknod /dev/rpihat c 236 0`

`interrupt context` : interrupt
    -> non sleep
```c
irqreturn isr_func(int irq, void *, ... ){
    kmalloc(size, GFP_KERNEL or GFP_ATOMIC);

}
```


### debugging / profiling
4문제
`$ cc -g hello.c`
`$ gdb a.out`       
`gdb> run`

`gdb> break`
`gdb> bt`
`gdb> display`
`gdb> print`



### yocto
4문제
bitbake : 자동화

#### recipes
- .bb
    - core-image-minimal.bb
- .bbclass
    - image.bbclass core-image.bbclass
- .bbappend
    - smp = y, n
- .conf

#### task
workflow = { fetch, unpack, patch, configure, compile, ... }

.bb
{
    do_configure {

    }

    addtask ... before ... do_build
}

#### 패키지
nano, hello, install -> /usr/bin/hello
유저 프로그램

IMAGE_INSTALL @local.conf /conf
-> root file system
`CORE_IMAGE_EXTRA_INSTALL`과 같은 효과


### openCV
6문제
    
#### Mat
`Mat mat(y, x, ...)`
`mat = imread("/.jpg", IMREAD_COLOR)` : 이미지 생성
`imshow("title", mat)` : 화면 출력

`k = waitkey(10)` : 0은 무기한

#### 
`Scalar(B, G, R)`

#### 
`cvtColor(mat, COLOR_BGR2GRAY)`







